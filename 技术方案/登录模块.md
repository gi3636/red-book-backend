# 登录模块

### 应用场景

* 用户未登录
* token 超时
* token 过期

### 接口说明

1. 传入用户名和密码以用来验证
2. 密码需要在前端加一次密，安全考量，避免出现明文密码
3. 登录时先取redis缓存，为了性能考量，减少sql查询。查询到的用户数据能存储在redis,以方便取相同的资料
4. 返回token 是为了让用户保持登录状态，提升用户体验
5. 密码需要加密后在验证，因为存入数据库的密码已经有再加密一次
6. 返回用户数据是避免多发一个请求，同时也能减少sql查询，因为一般上请求登录接口后就会直接跳转首页，这时候会需要个人用户资料，所以直接登录接口直接返回用户资料

### 流程图

![登录模块.png](https://franky123.oss-cn-hangzhou.aliyuncs.com/%E7%99%BB%E5%85%A5%E6%A8%A1%E5%9D%97.png)

